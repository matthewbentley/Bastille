synchronize shared data
test actual implementation